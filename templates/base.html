{% load static tailwind_tags %}
{% load static %}
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html lang="en">
<head>
    <meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>{% block head_title %} {{title}} {% endblock %}</title>
		<meta name="description" content="" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="{% static 'css/styles.css' %}" />
		<script
			src="https://unpkg.com/htmx.org@2.0.2"
			integrity="sha384-Y7hw+L/jvKeWIRRkqWYfPcvVxHzVzn5REgzbawhxAuQGwX1XWe70vji+VSeHOThJ"
			crossorigin="anonymous"></script>
         <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.10/dist/full.min.css" rel="stylesheet" type="text/css" />
         <link rel="icon" type="image/png" href="{% static 'images/SSLlogo.png' %}"/>
         <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    {% tailwind_css %}
		
    {% block extra_head %} {% endblock %}
    <script>
    // On page load or when changing themes, best to add inline in `head` to avoid FOUC
    if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
    } else {
        document.documentElement.classList.remove('dark')
    }
</script>
</head>
<body class="leading-normal tracking-normal bg-gray-50 dark:bg-gray-900">

   <!--[if lt IE 7]>
			<p class="browsehappy">
				You are using an <strong>outdated</strong> browser. Please
				<a href="#">upgrade your browser</a> to improve your experience.
			</p>
		<![endif]-->

    <!-- Loading Screen -->
    <div id="loadingScreen" class="fixed inset-0 z-50 flex items-center justify-center bg-gray-100">
        <div class="text-center">
            <img src="{% static 'images/SSLlogo.png' %}" alt="Logo" class="h-32 w-auto mb-4" />
            <div class="circular-progress" id="circularProgress">
                <span class="progress-value" id="progressValue">0%</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div id="mainContent" class="hidden">
        <div class="container mx-auto">{% block content %} {% endblock %}</div>
    </div>

    <script>
        // Show loading screen on page load
        window.onload = function() {
            document.getElementById('loadingScreen').style.display = 'none'; // Hide loading screen
            document.getElementById('mainContent').classList.remove('hidden'); // Show main content
        };

        // JavaScript for Circular Progress Bar
        let progressValue = document.getElementById('progressValue');
        let circularProgress = document.getElementById('circularProgress');
        let progressStartValue = 0;
        let progressEndValue = 100; // Set to 100% for full loading
        let speed = 30; // Adjust speed of the progress

        let progress = setInterval(() => {
            if (progressStartValue < progressEndValue) {
                progressStartValue++;
                progressValue.textContent = `${progressStartValue}%`;
                circularProgress.style.background = `conic-gradient(#4A325C ${progressStartValue * 3.6}deg, #e0e0e0 ${progressStartValue * 3.6}deg)`;
            } else {
                clearInterval(progress);
            }
        }, speed);
    </script>

    <style>
        /* Circular Progress Bar Styles */
        .circular-progress {
            position: relative;
            width: 150px;
            height: 150px;
            border-radius: 50%;
            border: 15px solid transparent;
            background: conic-gradient(#4A325C 0%, #4A325C 0%, #e0e0e0 0%);
        }
        .progress-value {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 24px;
            font-weight: bold;
            color: #4A325C;
        }
    </style>
		<script src="{% static 'js/theme.js' %}" async defer></script>
        <script src="{% static 'js/main.js' %}" async defer></script>
        <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.2/datepicker.min.js"></script>
</body>
</html>
